(this.webpackJsonpbcraft=this.webpackJsonpbcraft||[]).push([[0],{22:function(e,t,a){e.exports={auth:"style_auth__2-YXZ",authHeader:"style_authHeader__1ATR8",authLink:"style_authLink__26OE_",authLinkActive:"style_authLinkActive__HxXIE"}},25:function(e,t,a){e.exports={inputWrapper:"style_inputWrapper__2K_lX",input:"style_input__1k1f5"}},27:function(e,t,a){e.exports={cont:"style_cont__3hWaG",btns:"style_btns__2UfFH"}},28:function(e,t,a){e.exports={container:"style_container__1jql8",btns:"style_btns__2BXnW"}},31:function(e,t,a){e.exports={button:"style_button__2NB1i",buttonLine:"style_buttonLine__S1gXC"}},42:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(20),c=a.n(n),l=a(14),o=a(7),i=a(33),u=a(2),b=a(6),j="CHANGE_PASSWORD",d="CREATE_USER",O="SIGN_IN",p="SIGN_OUT",h={token:localStorage.getItem("token")?localStorage.getItem("token"):null,users:localStorage.getItem("users")?JSON.parse(localStorage.getItem("users")):localStorage.setItem("users",JSON.stringify([])),error:null},m=Object(i.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var a=[].concat(Object(b.a)(null===e||void 0===e?void 0:e.users),[t.payload]);return localStorage.setItem("users",JSON.stringify(a)),Object(u.a)(Object(u.a)({},e),{},{users:a});case j:var r=e.users.filter((function(e){return(null===e||void 0===e?void 0:e.id)===t.payload.id}))[0];if(r.password===t.payload.oldPass){var s=e.users.map((function(e){return e.id===t.payload.id?Object(u.a)(Object(u.a)({},e),{},{password:t.payload.password}):e}));return localStorage.setItem("users",JSON.stringify(s)),Object(u.a)(Object(u.a)({},e),{},{error:null,users:s})}return Object(u.a)(Object(u.a)({},e),{},{error:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439"});case O:var n=e.users.filter((function(e){return(null===e||void 0===e?void 0:e.email)===t.payload.email}))[0];return n?n.password===t.payload.password?(localStorage.setItem("token",JSON.stringify(n.id)),Object(u.a)(Object(u.a)({},e),{},{token:n.id,error:null})):Object(u.a)(Object(u.a)({},e),{},{error:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!"}):Object(u.a)(Object(u.a)({},e),{},{error:"\u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"});case p:return localStorage.removeItem("token"),Object(u.a)(Object(u.a)({},e),{},{token:null});default:return e}})),v=(a(42),a(5)),g=a(21),x=a.n(g),f=a(22),_=a.n(f),y=a(17),S=a(31),w=a.n(S),k=a(1),N=x.a.bind(w.a),A=function(e){var t=e.children,a=e.btnLine,r=e.disable,s=e.onClick;return Object(k.jsx)("button",{className:N("button",{buttonLine:a}),disabled:r,onClick:s,children:t})},L=a(25),C=a.n(L),E=function(e){var t=e.type,a=void 0===t?"text":t,r=e.placeholder,s=void 0===r?"Placeholder":r,n=e.error,c=void 0===n?"":n,l=e.label,o=void 0===l?"Text":l,i=e.onChange,b=e.args;return Object(k.jsxs)("div",{className:C.a.inputWrapper,children:[Object(k.jsx)("label",{htmlFor:a,children:o}),Object(k.jsx)("input",Object(u.a)(Object(u.a)({},b),{},{className:C.a.input,type:a,placeholder:s,id:a,onChange:i,name:a})),Object(k.jsx)("span",{children:c})]})},I=function(){var e,t,a=Object(y.a)(),r=a.register,s=a.handleSubmit,n=a.formState.errors,c=Object(o.b)(),l=Object(o.c)((function(e){return e.error}));return Object(k.jsxs)("form",{onSubmit:s((function(e){console.log(e),c({type:O,payload:e})})),children:[Object(k.jsx)(E,{type:"email",label:"Email",placeholder:"E-mail",args:Object(u.a)({},r("email",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u044f",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email \u043d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439"}})),error:(null===(e=n.email)||void 0===e?void 0:e.message)&&(null===(t=n.email)||void 0===t?void 0:t.message)}),Object(k.jsx)(E,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",args:Object(u.a)({},r("password",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u044f"})),error:l&&l}),Object(k.jsx)(A,{type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})},Z=a(9),J=function(){var e,t,a,s,n=Object(y.a)(),c=n.register,l=n.handleSubmit,i=n.formState.errors,b=n.getValues,j=n.reset,O=b().password,p=Object(r.useState)(!0),h=Object(Z.a)(p,2),m=h[0],g=h[1],x=Object(r.useState)(""),f=Object(Z.a)(x,2),_=f[0],S=f[1],w=Object(v.g)(),N=Object(o.b)();return Object(r.useEffect)((function(){g(O===_)}),[_,O]),Object(k.jsxs)("form",{onSubmit:l((function(e){var t=Object(u.a)({id:Date.now()},e);N({type:d,payload:t}),j({email:"",password:""}),S(""),alert("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"),w.push("/")})),children:[Object(k.jsx)(E,{type:"email",label:"Email",placeholder:"E-mail",args:Object(u.a)({},c("email",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u044f",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email \u043d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439"}})),error:(null===(e=i.email)||void 0===e?void 0:e.message)&&(null===(t=i.email)||void 0===t?void 0:t.message)}),Object(k.jsx)(E,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",args:Object(u.a)({},c("password",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u044f",pattern:{value:/[A-Z]/,message:"\u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u043e \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0430\u044f \u0431\u0443\u043a\u0432\u0430"},minLength:{value:6,message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"},maxLength:{value:12,message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}})),error:(null===(a=i.password)||void 0===a?void 0:a.message)&&(null===(s=i.password)||void 0===s?void 0:s.message)}),Object(k.jsx)(E,{type:"password",label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:_,onChange:function(e){return S(e.target.value)},error:!m&&"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!"}),Object(k.jsx)(A,{disable:!m,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})},q=x.a.bind(_.a);var H=function(){return Object(k.jsxs)("div",{className:_.a.auth,children:[Object(k.jsxs)("div",{className:_.a.authHeader,children:[Object(k.jsx)(l.b,{className:q("authLink"),activeClassName:q("authLinkActive"),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(k.jsx)(l.b,{className:q("authLink"),activeClassName:q("authLinkActive"),to:"/regst",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(k.jsx)("div",{children:Object(k.jsxs)(v.d,{children:[Object(k.jsx)(v.b,{path:"/login",exact:!0,children:Object(k.jsx)(I,{})}),Object(k.jsx)(v.b,{path:"/regst",exact:!0,children:Object(k.jsx)(J,{})}),Object(k.jsx)(v.a,{to:"/login"})]})})]})},W=a(27),P=a.n(W),X=function(){var e,t,a=Object(y.a)(),s=a.register,n=a.handleSubmit,c=a.formState.errors,l=(0,a.getValues)().password,i=Object(o.c)((function(e){return e.token})),b=Object(o.c)((function(e){return e.error})),d=Object(o.b)(),O=Object(v.g)(),p=Object(r.useState)(!0),h=Object(Z.a)(p,2),m=h[0],g=h[1],x=Object(r.useState)(""),f=Object(Z.a)(x,2),_=f[0],S=f[1],w=Object(r.useState)(""),N=Object(Z.a)(w,2),L=N[0],C=N[1];return Object(r.useEffect)((function(){g(l===_)}),[_,l]),Object(k.jsx)("div",{className:P.a.cont,children:Object(k.jsxs)("form",{onSubmit:n((function(e){var t=Object(u.a)(Object(u.a)({},e),{},{id:Number(i),oldPass:L});d({type:j,payload:t}),O.push("/")})),children:[Object(k.jsx)(E,{type:"password",label:"Password",placeholder:"password",error:b&&b,value:L,onChange:function(e){return C(e.target.value)}}),Object(k.jsx)(E,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",args:Object(u.a)({},s("password",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u044f",pattern:{value:/[A-Z]/,message:"\u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u043e \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0430\u044f \u0431\u0443\u043a\u0432\u0430"},minLength:{value:6,message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"},maxLength:{value:12,message:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}})),error:(null===(e=c.password)||void 0===e?void 0:e.message)&&(null===(t=c.password)||void 0===t?void 0:t.message)}),Object(k.jsx)(E,{type:"password",label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:_,onChange:function(e){return S(e.target.value)},error:!m&&"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!"}),Object(k.jsxs)("div",{className:P.a.btns,children:[Object(k.jsx)(A,{disable:!m,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(k.jsx)(A,{onClick:function(){return O.push("/")},children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})]})})},G=a(28),R=a.n(G),T=function(){var e=Object(o.b)(),t=Object(v.g)();return Object(k.jsxs)("div",{className:R.a.container,children:[Object(k.jsx)("h1",{children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(k.jsxs)("div",{className:R.a.btns,children:[Object(k.jsx)(A,{onClick:function(){return e({type:p})},children:"\u0412\u044b\u0439\u0442\u0438"}),Object(k.jsx)(A,{onClick:function(){return t.push("/pass")},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},B=function(){var e=Object(o.c)((function(e){return e.token})),t=Object(k.jsx)(v.d,{children:Object(k.jsx)(v.b,{path:"/",children:Object(k.jsx)(H,{})})}),a=Object(k.jsxs)(v.d,{children:[Object(k.jsx)(v.b,{path:"/",exact:!0,children:Object(k.jsx)(T,{})}),Object(k.jsx)(v.b,{path:"/pass",exact:!0,children:Object(k.jsx)(X,{})}),Object(k.jsx)(v.a,{to:"/"})]}),r=e?a:t;return Object(k.jsx)("div",{children:r})};c.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(o.a,{store:m,children:Object(k.jsx)(l.a,{children:Object(k.jsx)(B,{})})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.08a519a7.chunk.js.map